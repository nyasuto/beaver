{
  "id": 3217455853,
  "node_id": "I_kwDOPJEskc6_xnrt",
  "number": 102,
  "title": "ğŸŸ¡ MEDIUM: çµ±è¨ˆè¨ˆç®—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆå®Ÿè£… (statsCalculations.ts)",
  "body": "## ğŸ¯ æ¦‚è¦\n\n**statsCalculations.ts** ã¯çµ±è¨ˆè¨ˆç®—ãƒ»åˆ†ææ©Ÿèƒ½ã‚’æ‹…ã†é‡è¦ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ã™ãŒã€ç¾åœ¨ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸ãŒ **0%** ã§ã™ã€‚ãƒ‡ãƒ¼ã‚¿åˆ†æã®æ­£ç¢ºæ€§ç¢ºä¿ã®ãŸã‚ã€åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n## ğŸ“Š ç¾çŠ¶\n\n- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸**: 0%\n- **ãƒ•ã‚¡ã‚¤ãƒ«**: `src/lib/utils/statsCalculations.ts`\n- **é‡è¦åº¦**: ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»çµ±è¨ˆå‡¦ç†ã®åŸºç›¤\n\n## ğŸ”§ å®Ÿè£…ãŒå¿…è¦ãªãƒ†ã‚¹ãƒˆ\n\n### çµ±è¨ˆè¨ˆç®—æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ\n- [ ] `calculateTimeSeriesStats()` - æ™‚ç³»åˆ—çµ±è¨ˆè¨ˆç®—\n- [ ] `calculateAssigneeStats()` - æ‹…å½“è€…åˆ¥çµ±è¨ˆ\n- [ ] `calculateHealthScore()` - ãƒªãƒã‚¸ãƒˆãƒªãƒ˜ãƒ«ã‚¹ã‚¹ã‚³ã‚¢\n- [ ] `calculateTrend()` - ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ\n- [ ] `calculateBasicStats()` - åŸºæœ¬çµ±è¨ˆ\n- [ ] `calculateDetailedStats()` - è©³ç´°çµ±è¨ˆ\n\n### ãƒ‡ãƒ¼ã‚¿é›†ç´„æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ\n- [ ] æ—¥ä»˜ç¯„å›²è¨ˆç®—\n- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆ\n- [ ] ãƒ‘ãƒ¼ã‚»ãƒ³ã‚¿ã‚¤ãƒ«è¨ˆç®—\n- [ ] ç§»å‹•å¹³å‡è¨ˆç®—\n\n## ğŸ§ª ãƒ†ã‚¹ãƒˆè¦ä»¶\n\n### 1. åŸºæœ¬çµ±è¨ˆè¨ˆç®—ãƒ†ã‚¹ãƒˆ\n```typescript\ndescribe('Basic Statistics', () => {\n  const sampleIssues = [\n    { state: 'open', created_at: '2024-01-01', assignee: 'user1' },\n    { state: 'closed', created_at: '2024-01-02', assignee: 'user2' },\n    { state: 'open', created_at: '2024-01-03', assignee: 'user1' }\n  ];\n  \n  it('should calculate basic statistics correctly', () => {\n    const stats = calculateBasicStats(sampleIssues);\n    \n    expect(stats.total).toBe(3);\n    expect(stats.open).toBe(2);\n    expect(stats.closed).toBe(1);\n    expect(stats.openRate).toBeCloseTo(0.67, 2);\n  });\n  \n  it('should handle empty data', () => {\n    const stats = calculateBasicStats([]);\n    \n    expect(stats.total).toBe(0);\n    expect(stats.open).toBe(0);\n    expect(stats.closed).toBe(0);\n    expect(stats.openRate).toBe(0);\n  });\n});\n```\n\n### 2. æ™‚ç³»åˆ—çµ±è¨ˆãƒ†ã‚¹ãƒˆ\n```typescript\ndescribe('Time Series Statistics', () => {\n  it('should calculate time series data correctly', () => {\n    const issues = [\n      { created_at: '2024-01-01T00:00:00Z' },\n      { created_at: '2024-01-01T12:00:00Z' },\n      { created_at: '2024-01-02T00:00:00Z' }\n    ];\n    \n    const timeSeriesStats = calculateTimeSeriesStats(issues, 'daily');\n    \n    expect(timeSeriesStats['2024-01-01']).toBe(2);\n    expect(timeSeriesStats['2024-01-02']).toBe(1);\n  });\n  \n  it('should handle different time granularities', () => {\n    const weeklyStats = calculateTimeSeriesStats(issues, 'weekly');\n    const monthlyStats = calculateTimeSeriesStats(issues, 'monthly');\n    \n    expect(Object.keys(weeklyStats).length).toBeLessThanOrEqual(Object.keys(monthlyStats).length);\n  });\n});\n```\n\n### 3. ãƒ˜ãƒ«ã‚¹ã‚¹ã‚³ã‚¢è¨ˆç®—ãƒ†ã‚¹ãƒˆ\n```typescript\ndescribe('Health Score Calculation', () => {\n  it('should calculate repository health score', () => {\n    const repoData = {\n      stargazers_count: 100,\n      forks_count: 50,\n      open_issues_count: 10,\n      updated_at: new Date().toISOString(),\n      has_wiki: true,\n      has_readme: true\n    };\n    \n    const healthScore = calculateHealthScore(repoData);\n    \n    expect(healthScore).toBeGreaterThan(0);\n    expect(healthScore).toBeLessThanOrEqual(100);\n  });\n  \n  it('should penalize inactive repositories', () => {\n    const activeRepo = {\n      updated_at: new Date().toISOString(),\n      stargazers_count: 50\n    };\n    \n    const inactiveRepo = {\n      updated_at: new Date(Date.now() - 365 * 24 * 60 * 60 * 1000).toISOString(),\n      stargazers_count: 50\n    };\n    \n    const activeScore = calculateHealthScore(activeRepo);\n    const inactiveScore = calculateHealthScore(inactiveRepo);\n    \n    expect(activeScore).toBeGreaterThan(inactiveScore);\n  });\n});\n```\n\n### 4. ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æãƒ†ã‚¹ãƒˆ\n```typescript\ndescribe('Trend Analysis', () => {\n  it('should detect upward trend', () => {\n    const dataPoints = [1, 2, 3, 4, 5];\n    const trend = calculateTrend(dataPoints);\n    \n    expect(trend.direction).toBe('up');\n    expect(trend.confidence).toBeGreaterThan(0.8);\n  });\n  \n  it('should detect downward trend', () => {\n    const dataPoints = [5, 4, 3, 2, 1];\n    const trend = calculateTrend(dataPoints);\n    \n    expect(trend.direction).toBe('down');\n    expect(trend.confidence).toBeGreaterThan(0.8);\n  });\n  \n  it('should detect stable trend', () => {\n    const dataPoints = [3, 3, 3, 3, 3];\n    const trend = calculateTrend(dataPoints);\n    \n    expect(trend.direction).toBe('stable');\n  });\n});\n```\n\n### 5. æ‹…å½“è€…çµ±è¨ˆãƒ†ã‚¹ãƒˆ\n```typescript\ndescribe('Assignee Statistics', () => {\n  it('should calculate assignee workload correctly', () => {\n    const issues = [\n      { assignee: { login: 'user1' }, state: 'open' },\n      { assignee: { login: 'user1' }, state: 'closed' },\n      { assignee: { login: 'user2' }, state: 'open' },\n      { assignee: null, state: 'open' }\n    ];\n    \n    const assigneeStats = calculateAssigneeStats(issues);\n    \n    expect(assigneeStats.user1.total).toBe(2);\n    expect(assigneeStats.user1.open).toBe(1);\n    expect(assigneeStats.user2.total).toBe(1);\n    expect(assigneeStats.unassigned).toBe(1);\n  });\n});\n```\n\n## ğŸ¯ ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸ç›®æ¨™\n\n- **Statement Coverage**: 95%+\n- **Branch Coverage**: 90%+\n- **Function Coverage**: 100%\n\n## ğŸ“ å®Ÿè£…ãƒã‚¤ãƒ³ãƒˆ\n\n### æ•°å­¦çš„æ­£ç¢ºæ€§æ¤œè¨¼\n- çµ±è¨ˆè¨ˆç®—ã®ç²¾åº¦ç¢ºèª\n- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼ˆã‚¼ãƒ­é™¤ç®—ç­‰ï¼‰å‡¦ç†\n- æµ®å‹•å°æ•°ç‚¹è¨ˆç®—ã®èª¤å·®è¨±å®¹\n\n### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ\n- å¤§ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã§ã®è¨ˆç®—æ™‚é–“\n- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–\n- æœ€é©åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®åŠ¹æœæ¸¬å®š\n\n### ãƒ‡ãƒ¼ã‚¿ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³\n- æ§˜ã€…ãªæœŸé–“ã®ãƒ‡ãƒ¼ã‚¿\n- ç•°ãªã‚‹ãƒ‡ãƒ¼ã‚¿åˆ†å¸ƒ\n- æ¬ æãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†\n\n## ğŸš€ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ\n\n- çµ±è¨ˆè¨ˆç®—ã®æ­£ç¢ºæ€§ä¿è¨¼\n- ãƒ‡ãƒ¼ã‚¿åˆ†ææ©Ÿèƒ½ã®ä¿¡é ¼æ€§å‘ä¸Š\n- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©åŒ–\n- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹å‡¦ç†ã®å¼·åŒ–\n\n**Priority**: Medium\n**Impact**: ãƒ‡ãƒ¼ã‚¿åˆ†ææ©Ÿèƒ½ã®ä¿¡é ¼æ€§å‘ä¸Š\n**Component**: Statistics\n**Files**: `src/lib/utils/statsCalculations.ts`\n\nğŸ¤– Generated with [Claude Code](https://claude.ai/code)",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603341,
      "node_id": "LA_kwDOPJEskc8AAAACEx0ETQ",
      "name": "priority: medium",
      "description": "Medium priority tasks",
      "color": "fb8500",
      "default": false
    },
    {
      "id": 8910603599,
      "node_id": "LA_kwDOPJEskc8AAAACEx0FTw",
      "name": "type: test",
      "description": "Test related tasks",
      "color": "f9d71c",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-10T00:01:37Z",
  "updated_at": "2025-07-10T07:42:14Z",
  "closed_at": "2025-07-10T07:42:14Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/102",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/102",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/102/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/102/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/102/events"
}