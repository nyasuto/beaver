{
  "id": 3221101569,
  "node_id": "I_kwDOPJEskc6__hwB",
  "number": 156,
  "title": "ğŸ› Issueä¸€è¦§ã¨Issueè©³ç´°ãƒšãƒ¼ã‚¸ã§MarkdownãŒæ­£ã—ããƒ‘ãƒ¼ã‚¹ã•ã‚Œãªã„å•é¡Œ",
  "body": "## ğŸ¯ Bug: Issueä¸€è¦§ã¨Issueè©³ç´°ãƒšãƒ¼ã‚¸ã§MarkdownãŒæ­£ã—ããƒ‘ãƒ¼ã‚¹ã•ã‚Œãªã„å•é¡Œ\n\n### **Priority: MEDIUM**\n\n**Impact:** UI/UXãƒ»å¯èª­æ€§ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£\n\n**Component:** Issuesä¸€è¦§ãƒšãƒ¼ã‚¸ãƒ»Issueè©³ç´°ãƒšãƒ¼ã‚¸ãƒ»Markdownå‡¦ç†\n\n**Files:** `src/pages/issues/index.astro`, `src/pages/issues/[id].astro`, `src/lib/utils/markdown.ts`\n\n### Problem Description\n\nIssueä¸€è¦§ãƒšãƒ¼ã‚¸ã¨Issueè©³ç´°ãƒšãƒ¼ã‚¸ã§MarkdownãŒæ­£ã—ããƒ‘ãƒ¼ã‚¹ã•ã‚Œãšã€ç”Ÿã®Markdownè¨˜æ³•ãŒè¡¨ç¤ºã•ã‚Œã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚\n\n**ç¾åœ¨ã®è¡¨ç¤ºä¾‹:**\n```\n## ğŸ¯ Bug: ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰ã§ã‚¿ã‚¤ãƒˆãƒ«ã®å„ªå…ˆåº¦æƒ…å ±ãŒé‡è¤‡è¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œ\n### **Priority: MEDIUM**\n**Impact:** UI/UXãƒ»è¦–è¦šçš„ãªå†—é•·æ€§\n```\n\n**æœŸå¾…ã•ã‚Œã‚‹è¡¨ç¤º:**\n```\nğŸ¯ Bug: ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰ã§ã‚¿ã‚¤ãƒˆãƒ«ã®å„ªå…ˆåº¦æƒ…å ±ãŒé‡è¤‡è¡¨ç¤ºã•ã‚Œã‚‹å•é¡Œ\nPriority: MEDIUM\nImpact: UI/UXãƒ»è¦–è¦šçš„ãªå†—é•·æ€§\n```\n\n### Technical Analysis\n\n**ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³:**\n1. **Markdown Utilities**: `src/lib/utils/markdown.ts` ã«å®Œå…¨ãªMarkdownå‡¦ç†æ©Ÿèƒ½ãŒå®Ÿè£…æ¸ˆã¿\n   - `markdownToHtml()` - Markdown â†’ HTMLå¤‰æ›\n   - `markdownToPlainText()` - Markdown â†’ ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ\n   - `truncateMarkdown()` - Markdownåˆ‡ã‚Šè©°ã‚\n   - `extractFirstParagraph()` - æœ€åˆã®æ®µè½æŠ½å‡º\n\n2. **Issueä¸€è¦§ãƒšãƒ¼ã‚¸**: MarkdownãŒæœªå‡¦ç†\n   ```astro\n   {issue.body && (\n     <p class=\"text-sm text-muted mt-2 line-clamp-3 issue-body\">\n       {issue.body.substring(0, 200)}\n       {issue.body.length > 200 && '...'}\n     </p>\n   )}\n   ```\n\n3. **Issueè©³ç´°ãƒšãƒ¼ã‚¸**: åŸºæœ¬çš„ãªæ­£è¦è¡¨ç¾ã®ã¿\n   ```astro\n   const processedBody = currentIssue.body\n     ? currentIssue.body\n         .replace(/\\n/g, '<br>')\n         .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\n         .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\n     : '';\n   ```\n\n### Root Cause\n\n**å•é¡Œã®æ ¹æœ¬åŸå› :**\n1. æ—¢å­˜ã®Markdownãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒä½¿ç”¨ã•ã‚Œã¦ã„ãªã„\n2. Issueä¸€è¦§ã§ç”Ÿã®Markdownãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤º\n3. Issueè©³ç´°ã§ä¸å®Œå…¨ãªæ­£è¦è¡¨ç¾å‡¦ç†ã‚’ä½¿ç”¨\n4. Markdownãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒ`src/lib/utils/index.ts`ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„\n\n### Recommended Solution\n\n**Phase 1: Issueä¸€è¦§ãƒšãƒ¼ã‚¸ã®ä¿®æ­£**\n```astro\n---\nimport { markdownToPlainText, truncateMarkdown } from '../lib/utils/markdown';\n\n// Issue body ã®å‡¦ç†\nconst processedBody = issue.body \n  ? truncateMarkdown(markdownToPlainText(issue.body), 200)\n  : '';\n---\n\n{issue.body && (\n  <p class=\"text-sm text-muted mt-2 line-clamp-3 issue-body\">\n    {processedBody}\n  </p>\n)}\n```\n\n**Phase 2: Issueè©³ç´°ãƒšãƒ¼ã‚¸ã®ä¿®æ­£**\n```astro\n---\nimport { markdownToHtml } from '../../lib/utils/markdown';\n\n// æ—¢å­˜ã®æ­£è¦è¡¨ç¾å‡¦ç†ã‚’å‰Šé™¤ã—ã€markdownToHtmlã‚’ä½¿ç”¨\nconst processedBody = currentIssue.body \n  ? await markdownToHtml(currentIssue.body)\n  : '';\n---\n\n<div class=\"prose prose-sm max-w-none\" set:html={processedBody}></div>\n```\n\n**Phase 3: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**\n```typescript\n// src/lib/utils/index.ts\nexport { markdownToHtml, markdownToPlainText, truncateMarkdown } from './markdown';\n```\n\n### Affected Features\n\n**ç¾åœ¨å½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹æ©Ÿèƒ½:**\n- Issueä¸€è¦§ã‚«ãƒ¼ãƒ‰ã§ã®Markdownè¡¨ç¤º\n- Issueè©³ç´°ãƒšãƒ¼ã‚¸ã§ã®Markdownè¡¨ç¤º\n- æ¤œç´¢çµæœã§ã®Markdownè¡¨ç¤º\n- Markdownãƒªãƒ³ã‚¯ã®ã‚¯ãƒªãƒƒã‚¯æ©Ÿèƒ½\n- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã®æ§‹æ–‡ãƒã‚¤ãƒ©ã‚¤ãƒˆ\n\n### Acceptance Criteria\n\n**Issueä¸€è¦§ãƒšãƒ¼ã‚¸:**\n- [ ] Issueæœ¬æ–‡ã®Markdownè¨˜æ³•ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹\n- [ ] å¤ªå­—ã€æ–œä½“ã€ãƒªãƒ³ã‚¯ãŒé©åˆ‡ã«è¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] 200æ–‡å­—åˆ‡ã‚Šè©°ã‚ãŒæ­£ã—ãå‹•ä½œã™ã‚‹\n\n**Issueè©³ç´°ãƒšãƒ¼ã‚¸:**\n- [ ] è¦‹å‡ºã—ã€å¤ªå­—ã€æ–œä½“ã€ãƒªãƒ³ã‚¯ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒé©åˆ‡ã«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚Œã‚‹\n- [ ] ãƒªã‚¹ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹\n- [ ] XSSæ”»æ’ƒã«å¯¾ã™ã‚‹é©åˆ‡ãªã‚µãƒ‹ã‚¿ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³\n\n**æŠ€è¡“çš„è¦ä»¶:**\n- [ ] `markdownToHtml()` ã‚’Issueè©³ç´°ãƒšãƒ¼ã‚¸ã§ä½¿ç”¨\n- [ ] `markdownToPlainText()` ã¨ `truncateMarkdown()` ã‚’Issueä¸€è¦§ã§ä½¿ç”¨\n- [ ] æ—¢å­˜ã®Markdownãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ\n- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®åŠ£åŒ–ãŒãªã„\n\n### Test Cases\n\n**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹:**\n1. `## Header` â†’ `<h2>Header</h2>`\n2. `**Bold text**` â†’ `<strong>Bold text</strong>`\n3. `*Italic text*` â†’ `<em>Italic text</em>`\n4. `[Link](url)` â†’ `<a href=\"url\">Link</a>`\n5. `` `code` `` â†’ `<code>code</code>`\n6. ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã€ãƒªã‚¹ãƒˆã€å¼•ç”¨ã®é©åˆ‡ãªè¡¨ç¤º\n\n**æ—¢å­˜ã®Markdownãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€Issueè¡¨ç¤ºã®å¯èª­æ€§ã¨UXãŒå¤§å¹…ã«å‘ä¸Šã—ã¾ã™ã€‚**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603341,
      "node_id": "LA_kwDOPJEskc8AAAACEx0ETQ",
      "name": "priority: medium",
      "description": "Medium priority tasks",
      "color": "fb8500",
      "default": false
    },
    {
      "id": 8910603467,
      "node_id": "LA_kwDOPJEskc8AAAACEx0Eyw",
      "name": "type: bug",
      "description": "Bug fix",
      "color": "d73a4a",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-11T00:45:36Z",
  "updated_at": "2025-07-11T01:22:40Z",
  "closed_at": "2025-07-11T01:22:40Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/156",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/156",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/156/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/156/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/156/events"
}