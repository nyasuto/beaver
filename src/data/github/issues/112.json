{
  "id": 3217793155,
  "node_id": "I_kwDOPJEskc6_y6CD",
  "number": 112,
  "title": "ğŸ§ª ãƒ†ã‚¹ãƒˆå¤±æ•—ã®åŒ…æ‹¬çš„ä¿®æ­£ - 27å€‹ã®å¤±æ•—ãƒ†ã‚¹ãƒˆè§£æ±º",
  "body": "## ğŸ¯ Priority: HIGH\n\n**Impact:** CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã®å®‰å®šæ€§\n\n**Component:** ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ\n\n**Files:** \n- `src/pages/api/__tests__/health.test.ts`\n- `src/pages/api/config/__tests__/env-health.test.ts` \n- `src/pages/api/config/__tests__/settings.test.ts`\n- `src/pages/api/github/__tests__/issues.test.ts`\n\n## Problem Description\n\nç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã§27å€‹ã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ãŠã‚Šã€`make quality`ã§CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒé©åˆ‡ã«å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ãŸãŸã‚ã€ã“ã‚Œã‚‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n### å¤±æ•—ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åˆ†æ\n\n#### 1. **health.test.ts** (1å¤±æ•—)\n- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼æ™‚ã«500ã§ãªã200ã‚’è¿”ã—ã¦ã„ã‚‹\n- **åŸå› **: ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆæœŸå¾…å€¤ã®ä¸ä¸€è‡´\n\n#### 2. **env-health.test.ts** (2å¤±æ•—) \n- **ç’°å¢ƒåˆ¤å®š**: æœ¬ç•ªç’°å¢ƒã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ã‚’å«ã‚€ã¹ãã§ãªã„ã®ã«å«ã‚“ã§ã„ã‚‹\n- **HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¶é™**: æœ¬ç•ªç’°å¢ƒã§POSTæ‹’å¦æ™‚ã«405ã§ãªã500ã‚’è¿”ã—ã¦ã„ã‚‹\n- **åŸå› **: ç’°å¢ƒåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã¨HTTPãƒ¡ã‚½ãƒƒãƒ‰ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å•é¡Œ\n\n#### 3. **settings.test.ts** (13å¤±æ•—)\n- **ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±**: `token_configured`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒéã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã§ã‚‚å«ã¾ã‚Œã¦ã„ã‚‹\n- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤**: 'test-owner'ãŒè¿”ã•ã‚Œã‚‹ã¹ãã¨ã“ã‚ã§'example'ã‚’æœŸå¾…\n- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: ç„¡åŠ¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§400ã§ãªã200ã‚’è¿”ã—ã¦ã„ã‚‹\n- **ãƒ–ãƒ¼ãƒ«å€¤å‡¦ç†**: æ–‡å­—åˆ—å½¢å¼ãƒ–ãƒ¼ãƒ«å€¤ã®å‡¦ç†ãŒæœŸå¾…ã¨ä¸ä¸€è‡´\n- **åŸå› **: è¨­å®šç®¡ç†ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…å•é¡Œ\n\n#### 4. **github/issues.test.ts** (11å¤±æ•—)\n- **HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: 400/500/404ã®ä½¿ã„åˆ†ã‘ãŒå®Ÿè£…ã¨æœŸå¾…ã§ä¸ä¸€è‡´\n- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ **: ãƒ¡ã‚¿æƒ…å ±ï¼ˆ`result.meta.query`ï¼‰ãŒæœªå®šç¾©\n- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ˜ãƒƒãƒ€ãƒ¼**: `Cache-Control`ãƒ˜ãƒƒãƒ€ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ãªã„\n- **åŸå› **: GitHub APIçµ±åˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã®è¨­è¨ˆå•é¡Œ\n\n## Recommended Solution\n\n### æ®µéšçš„ä¿®æ­£ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n\n#### Phase 1: è¨­å®šç³»APIä¿®æ­£ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰\n1. **settings.test.tsä¿®æ­£**\n   - ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£\n   - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ç®¡ç†ã®çµ±ä¸€\n   - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¼·åŒ–\n\n2. **env-health.test.tsä¿®æ­£**\n   - ç’°å¢ƒåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã®ä¿®æ­£\n   - HTTPãƒ¡ã‚½ãƒƒãƒ‰åˆ¶é™ã®é©åˆ‡ãªå®Ÿè£…\n\n#### Phase 2: APIå¿œç­”ä¿®æ­£ï¼ˆä¸­å„ªå…ˆåº¦ï¼‰  \n3. **health.test.tsä¿®æ­£**\n   - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®çµ±ä¸€\n   - é©åˆ‡ãªHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰è¿”å´\n\n4. **github/issues.test.tsä¿®æ­£**\n   - ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã®æ¨™æº–åŒ–\n   - HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®é©åˆ‡ãªä½¿ã„åˆ†ã‘\n   - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ˜ãƒƒãƒ€ãƒ¼ã®å®Ÿè£…\n\n### ä¿®æ­£ã®æŠ€è¡“çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ\n\n#### A. ãƒ†ã‚¹ãƒˆæœŸå¾…å€¤ã®å®Ÿè£…åˆã‚ã›\n- å®Ÿè£…ã®å‹•ä½œã‚’åˆ†æã—ã¦ãƒ†ã‚¹ãƒˆæœŸå¾…å€¤ã‚’ä¿®æ­£\n- é©åˆ‡ãªå ´åˆã®ã¿æ¡ç”¨\n\n#### B. å®Ÿè£…ã®ä¿®æ­£\n- ãƒ†ã‚¹ãƒˆæœŸå¾…å€¤ãŒæ­£ã—ã„ä»•æ§˜ã‚’è¡¨ã—ã¦ã„ã‚‹å ´åˆã¯å®Ÿè£…ã‚’ä¿®æ­£\n- APIè¨­è¨ˆåŸå‰‡ã«å¾“ã£ãŸä¿®æ­£\n\n#### C. ãƒ¢ãƒƒã‚¯æ”¹å–„\n- ä¸é©åˆ‡ãªãƒ¢ãƒƒã‚¯è¨­å®šã®ä¿®æ­£\n- ç’°å¢ƒå¤‰æ•°ãƒ¢ãƒƒã‚¯ã®é©åˆ‡ãªè¨­å®š\n\n## Acceptance Criteria\n\n- [ ] **settings.test.ts**: 13å¤±æ•— â†’ 0å¤±æ•—\n- [ ] **github/issues.test.ts**: 11å¤±æ•— â†’ 0å¤±æ•—  \n- [ ] **env-health.test.ts**: 2å¤±æ•— â†’ 0å¤±æ•—\n- [ ] **health.test.ts**: 1å¤±æ•— â†’ 0å¤±æ•—\n- [ ] **`make quality`ãŒæˆåŠŸã™ã‚‹ã“ã¨**\n- [ ] **å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆã®æœŸå¾…å€¤ãŒè«–ç†çš„ã«ä¸€è‡´ã™ã‚‹ã“ã¨**\n- [ ] **APIè¨­è¨ˆåŸå‰‡ã«å¾“ã£ãŸé©åˆ‡ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ **\n\n## è¿½åŠ è€ƒæ…®äº‹é …\n\n### APIè¨­è¨ˆã®ä¸€è²«æ€§\n- HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®çµ±ä¸€çš„ãªä½¿ç”¨\n- ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã®æ¨™æº–åŒ–  \n- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ˜ãƒƒãƒ€ãƒ¼ã®é©åˆ‡ãªè¨­å®š\n\n### ç’°å¢ƒåˆ¤å®šã®ä¿¡é ¼æ€§\n- é–‹ç™º/æœ¬ç•ªç’°å¢ƒã®é©åˆ‡ãªåˆ¤å®š\n- ç’°å¢ƒå›ºæœ‰ã®å‹•ä½œã®é©åˆ‡ãªå®Ÿè£…\n\n**ã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®å®‰å®šæ€§ãŒå¤§å¹…ã«å‘ä¸Šã—ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®å“è³ªãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-10T03:58:42Z",
  "updated_at": "2025-07-10T05:00:05Z",
  "closed_at": "2025-07-10T05:00:05Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/112",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/112",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/112/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/112/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/112/events"
}