{
  "id": 3214091009,
  "node_id": "I_kwDOPJEskc6_kyMB",
  "number": 43,
  "title": "test: çµ±åˆãƒ†ã‚¹ãƒˆã¨E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè£…",
  "body": "## ğŸ¯ test: çµ±åˆãƒ†ã‚¹ãƒˆã¨E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n\n### **Priority: MEDIUM**\n\n**Impact:** ã‚³ãƒ¼ãƒ‰ã®å“è³ªå‘ä¸Šã€ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³é˜²æ­¢ã€CI/CDã®å¼·åŒ–\n\n**Component:** ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©ã€çµ±åˆãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆ\n\n**Files:** \n- `src/__tests__/integration/`\n- `src/__tests__/e2e/`\n- `playwright.config.ts`\n- `vitest.config.ts`\n- `.github/workflows/ci.yml`\n\n### Problem Description\n\nç¾åœ¨ã®ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã«ã¯é‡è¦ãªæ¬ é™¥ãŒã‚ã‚Šã¾ã™ï¼š\n\n1. **çµ±åˆãƒ†ã‚¹ãƒˆã®ä¸è¶³**: å˜ä½“ãƒ†ã‚¹ãƒˆã¯å……å®Ÿã—ã¦ã„ã‚‹ãŒã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®çµ±åˆãƒ†ã‚¹ãƒˆãŒä¸è¶³\n2. **E2Eãƒ†ã‚¹ãƒˆã®ä¸å­˜åœ¨**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç«¯ã‹ã‚‰ç«¯ã¾ã§ã®ãƒ†ã‚¹ãƒˆãŒæœªå®Ÿè£…\n3. **APIãƒ†ã‚¹ãƒˆã®ä¸è¶³**: GitHub API çµ±åˆã®ãƒ†ã‚¹ãƒˆãŒä¸å®Œå…¨\n4. **CI/CDã§ã®ãƒ†ã‚¹ãƒˆä¸è¶³**: ç¾åœ¨ã®CIã§ã¯åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ\n\n### Recommended Solution\n\n**Phase 1: çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…**\n1. GitHub API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®çµ±åˆãƒ†ã‚¹ãƒˆ\n2. Analytics ã‚¨ãƒ³ã‚¸ãƒ³ã¨ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®çµ±åˆãƒ†ã‚¹ãƒˆ\n3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®çµ±åˆãƒ†ã‚¹ãƒˆ\n4. API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ\n\n**Phase 2: E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè£…**\n1. Playwright ã®å°å…¥ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—\n2. åŸºæœ¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ\n3. æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆ\n4. Analytics ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®ãƒ†ã‚¹ãƒˆ\n\n**Phase 3: ãƒ†ã‚¹ãƒˆã‚¤ãƒ³ãƒ•ãƒ©ã®å¼·åŒ–**\n1. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†\n2. ãƒ¢ãƒƒã‚­ãƒ³ã‚°æˆ¦ç•¥ã®æ”¹å–„\n3. ãƒ†ã‚¹ãƒˆã®ä¸¦åˆ—å®Ÿè¡Œ\n4. CI/CDã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæœ€é©åŒ–\n\n### Implementation Details\n\n**çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…:**\n```typescript\n// src/__tests__/integration/github-api.test.ts\nimport { describe, it, expect, beforeEach } from 'vitest';\nimport { GitHubClient } from '@/lib/github/client';\nimport { fetchGitHubIssues } from '@/lib/github/issues';\n\ndescribe('GitHub API çµ±åˆãƒ†ã‚¹ãƒˆ', () => {\n  let client: GitHubClient;\n  \n  beforeEach(() => {\n    client = new GitHubClient({\n      token: 'test-token',\n      owner: 'test-owner',\n      repo: 'test-repo'\n    });\n  });\n\n  it('Issues ã‚’æ­£å¸¸ã«å–å¾—ã§ãã‚‹', async () => {\n    const result = await fetchGitHubIssues(client.config);\n    \n    expect(result.success).toBe(true);\n    if (result.success) {\n      expect(result.data).toBeInstanceOf(Array);\n      expect(result.data.length).toBeGreaterThan(0);\n    }\n  });\n\n  it('API ã‚¨ãƒ©ãƒ¼ã‚’é©åˆ‡ã«å‡¦ç†ã™ã‚‹', async () => {\n    const invalidClient = new GitHubClient({\n      token: 'invalid-token',\n      owner: 'test-owner',\n      repo: 'test-repo'\n    });\n    \n    const result = await fetchGitHubIssues(invalidClient.config);\n    \n    expect(result.success).toBe(false);\n    if (\\!result.success) {\n      expect(result.error).toBeDefined();\n    }\n  });\n});\n```\n\n**E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè£…:**\n```typescript\n// src/__tests__/e2e/issue-workflow.spec.ts\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Issue ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼', () => {\n  test('Issues ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã§ãã‚‹', async ({ page }) => {\n    await page.goto('/issues');\n    \n    // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã®ç¢ºèª\n    await expect(page.locator('h1')).toContainText('Issues');\n    \n    // Issue ã‚«ãƒ¼ãƒ‰ã®è¡¨ç¤ºç¢ºèª\n    await expect(page.locator('[data-testid=\"issue-card\"]')).toBeVisible();\n    \n    // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ç¢ºèª\n    await expect(page.locator('[data-testid=\"search-input\"]')).toBeVisible();\n  });\n\n  test('Issue è©³ç´°ãƒšãƒ¼ã‚¸ã«é·ç§»ã§ãã‚‹', async ({ page }) => {\n    await page.goto('/issues');\n    \n    // æœ€åˆã® Issue ã‚«ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯\n    await page.locator('[data-testid=\"issue-card\"]').first().click();\n    \n    // è©³ç´°ãƒšãƒ¼ã‚¸ã®ç¢ºèª\n    await expect(page.url()).toContain('/issues/');\n    await expect(page.locator('[data-testid=\"issue-title\"]')).toBeVisible();\n    await expect(page.locator('[data-testid=\"issue-body\"]')).toBeVisible();\n  });\n\n  test('æ¤œç´¢æ©Ÿèƒ½ãŒå‹•ä½œã™ã‚‹', async ({ page }) => {\n    await page.goto('/issues');\n    \n    // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å…¥åŠ›\n    await page.locator('[data-testid=\"search-input\"]').fill('bug');\n    \n    // æ¤œç´¢çµæœã®ç¢ºèª\n    await expect(page.locator('[data-testid=\"search-results\"]')).toBeVisible();\n    await expect(page.locator('[data-testid=\"search-count\"]')).toContainText('ä»¶');\n  });\n});\n```\n\n**Playwright è¨­å®š:**\n```typescript\n// playwright.config.ts\nimport { defineConfig, devices } from '@playwright/test';\n\nexport default defineConfig({\n  testDir: './src/__tests__/e2e',\n  timeout: 30 * 1000,\n  expect: {\n    timeout: 5000\n  },\n  fullyParallel: true,\n  forbidOnly: \\!\\!process.env.CI,\n  retries: process.env.CI ? 2 : 0,\n  workers: process.env.CI ? 1 : undefined,\n  reporter: 'html',\n  use: {\n    actionTimeout: 0,\n    baseURL: 'http://localhost:3000',\n    trace: 'on-first-retry',\n  },\n  projects: [\n    {\n      name: 'chromium',\n      use: { ...devices['Desktop Chrome'] },\n    },\n    {\n      name: 'firefox',\n      use: { ...devices['Desktop Firefox'] },\n    },\n    {\n      name: 'webkit',\n      use: { ...devices['Desktop Safari'] },\n    },\n  ],\n  webServer: {\n    command: 'npm run preview',\n    port: 3000,\n  },\n});\n```\n\n### Acceptance Criteria\n\n- [ ] GitHub API çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n- [ ] Analytics ã‚¨ãƒ³ã‚¸ãƒ³çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n- [ ] ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n- [ ] Playwright E2E ãƒ†ã‚¹ãƒˆã®å®Ÿè£…\n- [ ] åŸºæœ¬çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ\n- [ ] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ã®E2Eãƒ†ã‚¹ãƒˆ\n- [ ] Analytics ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®E2Eãƒ†ã‚¹ãƒˆ\n- [ ] CI/CDã§ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ\n- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒ¼ã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®æ”¹å–„\n- [ ] ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ \n\n**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¿¡é ¼æ€§ã‚’å¤§å¹…ã«å‘ä¸Šã•ã›ã‚‹é‡è¦ãªå®Ÿè£…**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603341,
      "node_id": "LA_kwDOPJEskc8AAAACEx0ETQ",
      "name": "priority: medium",
      "description": "Medium priority tasks",
      "color": "fb8500",
      "default": false
    },
    {
      "id": 8910603599,
      "node_id": "LA_kwDOPJEskc8AAAACEx0FTw",
      "name": "type: test",
      "description": "Test related tasks",
      "color": "f9d71c",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-09T00:31:19Z",
  "updated_at": "2025-07-09T00:31:19Z",
  "closed_at": null,
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/43",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/43",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/43/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/43/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/43/events"
}