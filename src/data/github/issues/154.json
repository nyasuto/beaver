{
  "id": 3221094706,
  "node_id": "I_kwDOPJEskc6__gEy",
  "number": 154,
  "title": "🐛 タスクカードでタイトルの優先度情報が重複表示される問題",
  "body": "## 🎯 Bug: タスクカードでタイトルの優先度情報が重複表示される問題\n\n### **Priority: MEDIUM**\n\n**Impact:** UI/UX・視覚的な冗長性\n\n**Component:** TaskRecommendationService・TopTasks.astro・ホームページ\n\n**Files:** `src/lib/services/TaskRecommendationService.ts`, `src/components/sections/TopTasks.astro`\n\n### Problem Description\n\nホームページのおすすめタスクカードで、優先度情報が重複表示される問題があります。\n\n**現在の表示:**\n- 優先度バッジ: `🟡 中` (日本語フォーマット)\n- タイトル: `🟡 MEDIUM: GitHub統合サービスのテスト改善 (github/)` (元のタイトルに英語優先度が含まれる)\n\n**問題の原因:**\n1. GitHub Issue のタイトルに既に優先度プレフィックスが含まれている\n2. TaskRecommendationService が元のタイトルをそのまま使用\n3. 別途、優先度バッジを表示するため重複が発生\n\n### Visual Example\n\n**現在:**\n```\n🟡 中  Score: 89.2\n🟡 MEDIUM: GitHub統合サービスのテスト改善 (github/)\nGitHub統合に関するサービスクラスの包括的なテスト実装...\n```\n\n**期待される表示:**\n```\n🟡 中  Score: 89.2\nGitHub統合サービスのテスト改善 (github/)\nGitHub統合に関するサービスクラスの包括的なテスト実装...\n```\n\n### Technical Analysis\n\n**影響を受けるコンポーネント:**\n- `TaskRecommendationService.convertToTaskRecommendation()` - タイトル処理\n- `TopTasks.astro` - タスクカード表示\n- `formatPriority()` - 優先度フォーマット\n\n**データフロー:**\n1. GitHub Issue: `\"🟡 MEDIUM: [actual title]\"`\n2. Task Recommendation: 元のタイトルを使用\n3. 表示レイヤー: 優先度バッジ + 元のタイトル → 重複\n\n### Recommended Solution\n\n**TaskRecommendationService.ts の修正:**\n```typescript\nprivate static cleanTitle(title: string): string {\n  // 優先度プレフィックスを削除\n  return title.replace(/^[🔴🟠🟡🟢⚪]\\s*(CRITICAL|HIGH|MEDIUM|LOW|BACKLOG):\\s*/i, '').trim();\n}\n\nprivate static async convertToTaskRecommendation(task: TaskScore): Promise<TaskRecommendation> {\n  // クリーンなタイトルを使用\n  const cleanTitle = this.cleanTitle(task.title);\n  \n  return {\n    // ...\n    title: cleanTitle,\n    // ...\n  };\n}\n```\n\n**代替案:**\n- Issue 生成時にタイトルのフォーマットを統一\n- 優先度情報を別フィールドに分離\n- 表示レイヤーでのタイトル処理\n\n### Acceptance Criteria\n\n- [ ] タスクカードで優先度情報が重複表示されない\n- [ ] タイトルから優先度プレフィックスが正しく削除される\n- [ ] 優先度バッジが正しく表示される\n- [ ] タイトルのクリーニング処理が各種フォーマットに対応\n- [ ] 既存のタスクカード機能が正常に動作する\n\n### Test Cases\n\n**テストケース:**\n1. `🟡 MEDIUM: Test Title` → `Test Title`\n2. `🔴 CRITICAL: Security Issue` → `Security Issue`\n3. `🟢 LOW: Documentation` → `Documentation`\n4. `Regular Title` → `Regular Title` (変更なし)\n\n**UI視覚的な改善により、ユーザーはよりクリーンで読みやすいタスクカードを見ることができます。**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603341,
      "node_id": "LA_kwDOPJEskc8AAAACEx0ETQ",
      "name": "priority: medium",
      "description": "Medium priority tasks",
      "color": "fb8500",
      "default": false
    },
    {
      "id": 8910603467,
      "node_id": "LA_kwDOPJEskc8AAAACEx0Eyw",
      "name": "type: bug",
      "description": "Bug fix",
      "color": "d73a4a",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-11T00:42:22Z",
  "updated_at": "2025-07-11T01:11:02Z",
  "closed_at": "2025-07-11T01:11:02Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/154",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/154",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/154/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/154/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/154/events"
}