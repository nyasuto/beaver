{
  "id": 3214089481,
  "node_id": "I_kwDOPJEskc6_kx0J",
  "number": 40,
  "title": "feat: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨GitHub APIçµ±åˆã®å®Ÿè£…",
  "body": "## ğŸ¯ feature: é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã§ã®GitHub ãƒ‡ãƒ¼ã‚¿çµ±åˆã®å®Ÿè£…\n\n### **Priority: HIGH**\n\n**Impact:** GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆå¯¾å¿œã€é™çš„ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ\n\n**Component:** ãƒ“ãƒ«ãƒ‰æ™‚ãƒ‡ãƒ¼ã‚¿å–å¾—ã€é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆã€Astro SSG\n\n**Files:** \n- `src/pages/issues/index.astro`\n- `src/pages/issues/[id].astro`\n- `src/data/github/` (æ–°è¦ä½œæˆ)\n- `scripts/fetch-github-data.ts` (æ–°è¦ä½œæˆ)\n- `src/lib/github/client.ts`\n- `src/lib/github/issues.ts`\n- `.env.example`\n- `package.json`\n\n### Problem Description\n\nGitHub Pages ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚’å‰æã¨ã—ãŸé™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã§ã¯ã€å‹•çš„ãªAPIå‘¼ã³å‡ºã—ãŒã§ãã¾ã›ã‚“ã€‚ç¾åœ¨ã®å®Ÿè£…ã§ã¯ä»¥ä¸‹ã®å•é¡ŒãŒã‚ã‚Šã¾ã™ï¼š\n\n1. **ãƒ“ãƒ«ãƒ‰æ™‚ãƒ‡ãƒ¼ã‚¿å–å¾—ã®æœªå®Ÿè£…**: GitHub API ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ãŒãƒ“ãƒ«ãƒ‰æ™‚ã«è¡Œã‚ã‚Œã¦ã„ãªã„\n2. **é™çš„ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸å­˜åœ¨**: å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã™ã‚‹ä»•çµ„ã¿ãŒãªã„\n3. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°ã®ä»•çµ„ã¿ä¸è¶³**: GitHub Actions ã§ã®å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿æ›´æ–°ãŒæœªå®Ÿè£…\n4. **ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ã®ä¸è¶³**: ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•—æ™‚ã®ä»£æ›¿ãƒ‡ãƒ¼ã‚¿ãŒæœªæº–å‚™\n\n### Recommended Solution\n\n**Phase 1: ãƒ“ãƒ«ãƒ‰æ™‚ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚·ã‚¹ãƒ†ãƒ **\n1. GitHub API ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ\n2. å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ JSON ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ `src/data/github/` ã«ä¿å­˜\n3. ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã§ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’è‡ªå‹•åŒ–\n\n**Phase 2: é™çš„ãƒ•ã‚¡ã‚¤ãƒ«çµ±åˆ**\n1. Astro ãƒšãƒ¼ã‚¸ã§ JSON ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿\n2. é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆæ™‚ã®ãƒ‡ãƒ¼ã‚¿åŸ‹ã‚è¾¼ã¿\n3. å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿æ©Ÿèƒ½\n\n**Phase 3: è‡ªå‹•æ›´æ–°ã‚·ã‚¹ãƒ†ãƒ **\n1. GitHub Actions ã§ã®å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿æ›´æ–°\n2. ãƒ‡ãƒ¼ã‚¿å¤‰æ›´æ™‚ã®è‡ªå‹•ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤\n3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n\n### Implementation Details\n\n**ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ:**\n```typescript\n// scripts/fetch-github-data.ts\nimport { writeFileSync, mkdirSync } from 'fs';\nimport { join } from 'path';\nimport { fetchGitHubIssues } from '../src/lib/github/issues';\nimport { getConfig } from '../src/lib/config';\n\nasync function fetchAndSaveData() {\n  try {\n    const config = getConfig();\n    const issuesResult = await fetchGitHubIssues(config.github);\n    \n    if (\\!issuesResult.success) {\n      throw new Error(`GitHub API ã‚¨ãƒ©ãƒ¼: ${issuesResult.error.message}`);\n    }\n    \n    // ãƒ‡ãƒ¼ã‚¿ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆ\n    const dataDir = join(process.cwd(), 'src/data/github');\n    mkdirSync(dataDir, { recursive: true });\n    \n    // Issues ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜\n    writeFileSync(\n      join(dataDir, 'issues.json'),\n      JSON.stringify(issuesResult.data, null, 2)\n    );\n    \n    // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ä¿å­˜\n    writeFileSync(\n      join(dataDir, 'metadata.json'),\n      JSON.stringify({\n        lastUpdated: new Date().toISOString(),\n        totalIssues: issuesResult.data.length,\n        openIssues: issuesResult.data.filter(i => i.state === 'open').length,\n        closedIssues: issuesResult.data.filter(i => i.state === 'closed').length\n      }, null, 2)\n    );\n    \n    console.log('âœ… GitHub ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¨ä¿å­˜ãŒå®Œäº†ã—ã¾ã—ãŸ');\n  } catch (error) {\n    console.error('âŒ ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼:', error);\n    process.exit(1);\n  }\n}\n\nfetchAndSaveData();\n```\n\n**é™çš„ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿:**\n```typescript\n// src/lib/data/github.ts\nimport issuesData from '@/data/github/issues.json';\nimport metadata from '@/data/github/metadata.json';\nimport { IssueSchema } from '@/lib/schemas/github';\nimport { z } from 'zod';\n\nconst IssuesArraySchema = z.array(IssueSchema);\n\nexport const getStaticIssues = () => {\n  const validatedIssues = IssuesArraySchema.parse(issuesData);\n  return validatedIssues;\n};\n\nexport const getStaticMetadata = () => {\n  return metadata;\n};\n\nexport const getStaticIssueById = (id: number) => {\n  const issues = getStaticIssues();\n  return issues.find(issue => issue.number === id);\n};\n```\n\n**Astro ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨:**\n```astro\n---\n// src/pages/issues/index.astro\nimport { getStaticIssues, getStaticMetadata } from '@/lib/data/github';\nimport { IssueCard } from '@/components/ui/IssueCard';\nimport { BaseLayout } from '@/components/layouts/BaseLayout.astro';\n\nconst issues = getStaticIssues();\nconst metadata = getStaticMetadata();\n---\n\n<BaseLayout title=\"Issues\">\n  <div class=\"container mx-auto px-4 py-8\">\n    <div class=\"flex justify-between items-center mb-6\">\n      <h1 class=\"text-3xl font-bold\">Issues</h1>\n      <div class=\"text-sm text-gray-600\">\n        æœ€çµ‚æ›´æ–°: {new Date(metadata.lastUpdated).toLocaleDateString('ja-JP')}\n      </div>\n    </div>\n    \n    <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {issues.map((issue) => (\n        <IssueCard key={issue.id} issue={issue} />\n      ))}\n    </div>\n  </div>\n</BaseLayout>\n```\n\n**ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹çµ±åˆ:**\n```json\n// package.json\n{\n  \"scripts\": {\n    \"prebuild\": \"npm run fetch-data\",\n    \"fetch-data\": \"tsx scripts/fetch-github-data.ts\",\n    \"build\": \"astro build\",\n    \"build:full\": \"npm run fetch-data && npm run build\"\n  }\n}\n```\n\n**GitHub Actions ã§ã®è‡ªå‹•æ›´æ–°:**\n```yaml\n# .github/workflows/update-data.yml\nname: Update GitHub Data\n\non:\n  schedule:\n    - cron: '0 6 * * *'  # æ¯æ—¥åˆå‰6æ™‚ã«å®Ÿè¡Œ\n  workflow_dispatch:  # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½\n\njobs:\n  update-data:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      \n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n      \n      - name: Install dependencies\n        run: npm ci\n      \n      - name: Fetch GitHub data\n        run: npm run fetch-data\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n      \n      - name: Commit and push if changed\n        run: |\n          git config --local user.email \"action@github.com\"\n          git config --local user.name \"GitHub Action\"\n          git add src/data/github/\n          git diff --staged --quiet || git commit -m \"chore: update GitHub data\"\n          git push\n      \n      - name: Build and deploy\n        run: |\n          npm run build\n          npm run deploy\n```\n\n### Acceptance Criteria\n\n- [ ] GitHub API ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ\n- [ ] `src/data/github/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã®JSONãƒ‡ãƒ¼ã‚¿ä¿å­˜\n- [ ] ãƒ“ãƒ«ãƒ‰æ™‚ã®è‡ªå‹•ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ—ãƒ­ã‚»ã‚¹\n- [ ] Astro ãƒšãƒ¼ã‚¸ã§ã®é™çš„ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿\n- [ ] å‹å®‰å…¨ãªãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿æ©Ÿèƒ½\n- [ ] Issues ä¸€è¦§ãƒšãƒ¼ã‚¸ã§ã®é™çš„ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º\n- [ ] å€‹åˆ¥ Issue è©³ç´°ãƒšãƒ¼ã‚¸ã§ã®é™çš„ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º\n- [ ] ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆæ›´æ–°æ—¥æ™‚ã€ä»¶æ•°ï¼‰ã®è¡¨ç¤º\n- [ ] GitHub Actions ã§ã®å®šæœŸçš„ãªãƒ‡ãƒ¼ã‚¿æ›´æ–°\n- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¨ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½\n- [ ] ç’°å¢ƒå¤‰æ•°è¨­å®šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ\n\n**GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã«å¯¾å¿œã—ãŸé™çš„ã‚µã‚¤ãƒˆç”Ÿæˆã®å®Ÿç¾**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603282,
      "node_id": "LA_kwDOPJEskc8AAAACEx0EEg",
      "name": "priority: high",
      "description": "High priority tasks",
      "color": "f85149",
      "default": false
    },
    {
      "id": 8910603442,
      "node_id": "LA_kwDOPJEskc8AAAACEx0Esg",
      "name": "type: feature",
      "description": "New feature implementation",
      "color": "a2eeef",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 1,
  "created_at": "2025-07-09T00:29:55Z",
  "updated_at": "2025-07-09T01:22:40Z",
  "closed_at": "2025-07-09T01:22:40Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/40",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/40",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/40/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/40/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/40/events"
}