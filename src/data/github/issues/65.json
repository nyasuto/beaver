{
  "id": 3215509163,
  "node_id": "PR_kwDOPJEskc6eGkyi",
  "number": 65,
  "title": "fix: GitHub Pages internal links missing base path causing 404 errors",
  "body": "## æ¦‚è¦\n\nGitHub Pages ã§ã®ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã«å†…éƒ¨ãƒªãƒ³ã‚¯ãŒ 404 ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å•é¡Œã‚’ä¿®æ­£ã—ã¾ã—ãŸã€‚\n\n## å•é¡Œã®è©³ç´°\n\n### ç¾è±¡\n- ãƒ‡ãƒ—ãƒ­ã‚¤URL: `https://nyasuto.github.io/beaver/`\n- å†…éƒ¨ãƒªãƒ³ã‚¯ãŒ `/issues` ã¨ãªã‚Šã€å®Ÿéš›ã®ã‚¢ã‚¯ã‚»ã‚¹ã¯ `https://nyasuto.github.io/issues` (404ã‚¨ãƒ©ãƒ¼)\n- æ­£ã—ãã¯ `/beaver/issues` ã§ `https://nyasuto.github.io/beaver/issues` ã§ã‚ã‚‹å¿…è¦\n\n### æ ¹æœ¬åŸå› \n- Astroè¨­å®šã® `base: '/beaver'` ã¯æ­£ã—ãè¨­å®šæ¸ˆã¿\n- CSS/JSãƒ•ã‚¡ã‚¤ãƒ«ã¯æ­£ã—ããƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã§å‹•ä½œ\n- **å†…éƒ¨ãƒªãƒ³ã‚¯ã®ã¿**ãŒãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ãŠã‚Šã€ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ãŒä¸è¶³ã—ã¦ã„ãŸ\n\n## ä¿®æ­£å†…å®¹\n\n### 1. URL ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã®å®Ÿè£…\n```typescript\n// src/lib/utils/url.ts\nexport function resolveUrl(path: string): string {\n  const base = import.meta.env.BASE_URL || '/';\n  \n  // Development: /issues â†’ /issues\n  // Production: /issues â†’ /beaver/issues\n  if (base === '/') return path;\n  \n  const cleanBase = base.replace(/\\/$/, '');\n  const normalizedPath = path.startsWith('/') ? path : `/${path}`;\n  \n  return `${cleanBase}${normalizedPath}`;\n}\n```\n\n### 2. å†…éƒ¨ãƒªãƒ³ã‚¯ã®ä¿®æ­£ (30+ ç®‡æ‰€)\n- **Header.astro**: ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ãƒ­ã‚´ãƒªãƒ³ã‚¯ (4ç®‡æ‰€)\n- **Footer.astro**: ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒªãƒ³ã‚¯ (3ç®‡æ‰€)\n- **index.astro**: ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ãƒœã‚¿ãƒ³ã¨ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ (6ç®‡æ‰€)\n- **issues/index.astro**: ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã¨Issueè©³ç´°ãƒªãƒ³ã‚¯ (3ç®‡æ‰€)\n- **issues/[id].astro**: ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã€ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€é–¢é€£ãƒªãƒ³ã‚¯ (5ç®‡æ‰€)\n- **analytics/index.astro**: ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã¨ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒªãƒ³ã‚¯ (3ç®‡æ‰€)\n\n### 3. å¤‰æ›´ä¾‹\n```typescript\n// Before (ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰)\nconst navItems = [\n  { name: 'Home', href: '/' },\n  { name: 'Issues', href: '/issues' },\n  { name: 'Analytics', href: '/analytics' },\n];\n\n// After (resolveUrl ä½¿ç”¨)\nconst navItems = [\n  { name: 'Home', href: resolveUrl('/') },\n  { name: 'Issues', href: resolveUrl('/issues') },\n  { name: 'Analytics', href: resolveUrl('/analytics') },\n];\n```\n\n## æŠ€è¡“çš„è©³ç´°\n\n### ç’°å¢ƒåˆ¥å‹•ä½œ\n- **é–‹ç™ºç’°å¢ƒ**: `resolveUrl('/issues')` â†’ `/issues` (å¤‰æ›´ãªã—)\n- **æœ¬ç•ªç’°å¢ƒ**: `resolveUrl('/issues')` â†’ `/beaver/issues` (æ­£ã—ããƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹)\n\n### å‹•ä½œç¢ºèª\n```bash\nnpm run build\n# ç”Ÿæˆã•ã‚ŒãŸHTMLã§ã®ç¢ºèªçµæœ:\n# href=\"/beaver/issues\" âœ…\n# href=\"/beaver/analytics\" âœ…\n# href=\"/beaver/issues/new\" âœ…\n```\n\n## ãƒ†ã‚¹ãƒˆçµæœ\n\n### ãƒ“ãƒ«ãƒ‰æˆåŠŸ\n- âœ… TypeScript å‹ãƒã‚§ãƒƒã‚¯: é€šé\n- âœ… ESLint/Prettier: é€šé\n- âœ… 186 ãƒ†ã‚¹ãƒˆ: é€šé (2 skipped)\n- âœ… é™çš„ã‚µã‚¤ãƒˆç”Ÿæˆ: æˆåŠŸ\n\n### URLç”Ÿæˆç¢ºèª\n- âœ… é–‹ç™ºç’°å¢ƒã§ã®æ—¢å­˜å‹•ä½œç¶­æŒ\n- âœ… æœ¬ç•ªç’°å¢ƒã§ã®æ­£ã—ã„ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ä»˜ä¸\n- âœ… ç”ŸæˆHTMLå†…ã®å…¨ãƒªãƒ³ã‚¯ãŒ `/beaver/*` å½¢å¼\n\n## å½±éŸ¿ç¯„å›²\n\n### è§£æ±ºã•ã‚Œã‚‹å•é¡Œ\n- âœ… GitHub Pages ã§ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ 404 ã‚¨ãƒ©ãƒ¼\n- âœ… ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆãƒªãƒ³ã‚¯ 404 ã‚¨ãƒ©ãƒ¼\n- âœ… ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ 404 ã‚¨ãƒ©ãƒ¼\n- âœ… é–¢é€£Issue ãƒªãƒ³ã‚¯ 404 ã‚¨ãƒ©ãƒ¼\n\n### ç¶­æŒã•ã‚Œã‚‹æ©Ÿèƒ½\n- âœ… é–‹ç™ºç’°å¢ƒã§ã®æ—¢å­˜å‹•ä½œ\n- âœ… å¤–éƒ¨ãƒªãƒ³ã‚¯ã¸ã®å½±éŸ¿ãªã—\n- âœ… API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®å½±éŸ¿ãªã—\n\n## ä»Šå¾Œã®æŒ‡é‡\n\nã“ã®ä¿®æ­£ã«ã‚ˆã‚Šã€ä»Šå¾Œæ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã¯ï¼š\n1. `import { resolveUrl } from '../lib/utils/url'` ã‚’è¿½åŠ \n2. ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸå†…éƒ¨ãƒªãƒ³ã‚¯ã‚’ `resolveUrl()` ã§ãƒ©ãƒƒãƒ—\n3. é–‹ç™ºãƒ»æœ¬ç•ªä¸¡ç’°å¢ƒã§é©åˆ‡ã«å‹•ä½œ\n\nCloses #58\n\nğŸ¤– Generated with [Claude Code](https://claude.ai/code)",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603282,
      "node_id": "LA_kwDOPJEskc8AAAACEx0EEg",
      "name": "priority: high",
      "description": "High priority tasks",
      "color": "f85149",
      "default": false
    },
    {
      "id": 8910603467,
      "node_id": "LA_kwDOPJEskc8AAAACEx0Eyw",
      "name": "type: bug",
      "description": "Bug fix",
      "color": "d73a4a",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-09T10:57:49Z",
  "updated_at": "2025-07-09T10:59:09Z",
  "closed_at": "2025-07-09T10:59:07Z",
  "author_association": "OWNER",
  "active_lock_reason": null,
  "draft": false,
  "pull_request": {
    "url": "https://api.github.com/repos/nyasuto/beaver/pulls/65",
    "html_url": "https://github.com/nyasuto/beaver/pull/65",
    "diff_url": "https://github.com/nyasuto/beaver/pull/65.diff",
    "patch_url": "https://github.com/nyasuto/beaver/pull/65.patch"
  },
  "html_url": "https://github.com/nyasuto/beaver/pull/65",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/65",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/65/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/65/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/65/events"
}