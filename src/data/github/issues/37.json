{
  "id": 3214055687,
  "node_id": "I_kwDOPJEskc6_kpkH",
  "number": 37,
  "title": "Chart.jså‹å®‰å…¨æ€§å‘ä¸Šã¨TypeScript strict modeå®Œå…¨å¯¾å¿œ (Technical Debt)",
  "body": "## ğŸ¯ Issueæ¦‚è¦: Chart.jså‹å®‰å…¨æ€§å‘ä¸Šã¨TypeScript strict modeå®Œå…¨å¯¾å¿œ\n\n**Priority: MEDIUM**  \n**Component: Chart Components**  \n**Files: src/components/charts/**, src/lib/utils/chart.ts**  \n\n### **å•é¡ŒèƒŒæ™¯**\n\nIssue #8ã§Chart.jsçµ±åˆã‚’å®Ÿè£…ã—ãŸéš›ã€Chart.jsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¤‡é›‘ãªå‹å®šç¾©ãŒTypeScript strict modeã¨ç«¶åˆã—ã€ä¸€æ™‚çš„ã«strictè¨­å®šã‚’ç·©å’Œã—ãŸã€‚æ©Ÿèƒ½ã¯å®Œå…¨å‹•ä½œã™ã‚‹ãŒã€å‹å®‰å…¨æ€§ã®å‘ä¸ŠãŒå¿…è¦ã€‚\n\n### **ç¾åœ¨ã®æŠ€è¡“çš„èª²é¡Œ**\n\n#### ä¸»è¦TypeScriptã‚¨ãƒ©ãƒ¼ (43 errors):\n1. **Chart.jså‹å®šç¾©ç«¶åˆ**: `ChartOptions<T>`ãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå‹ãŒéåº¦ã«è¤‡é›‘\n2. **Null safety issues**: `dataset.backgroundColor\\![i]`ãªã©ã®non-null assertion\n3. **Generic constraints**: Chart.jsã®è¤‡é›‘ãªã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã¨ã®ä¸æ•´åˆ\n4. **Any type usage**: Chart.js callbacké–¢æ•°ã§ã®anyå‹ä½¿ç”¨\n\n#### å½±éŸ¿ç¯„å›²:\n- `src/components/charts/BaseChart.tsx`\n- `src/components/charts/LineChart.tsx` \n- `src/components/charts/PieChart.tsx`\n- `src/components/charts/BarChart.tsx`\n- `src/components/charts/AreaChart.tsx`\n- `src/lib/utils/chart.ts`\n- `src/components/charts/__tests__/charts.test.ts`\n\n### **è§£æ±ºã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**\n\n#### Phase 1: å‹å®‰å…¨Wrapperå±¤è¨­è¨ˆ\n- Chart.jsç”¨ã®type-safe wrapperé–¢æ•°ä½œæˆ\n- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä»•æ§˜ã®Custom type definitions\n- Chart.jsè¤‡é›‘å‹ã®æŠ½è±¡åŒ–\n\n#### Phase 2: æ®µéšçš„strict modeå¾©å…ƒ\n- ãƒ•ã‚¡ã‚¤ãƒ«åˆ¥strict complianceç¢ºèª\n- Non-null assertionã®å®‰å…¨ãªç½®ãæ›ãˆ\n- Anyå‹ã®æ®µéšçš„æ’é™¤\n\n#### Phase 3: ãƒ†ã‚¹ãƒˆå¼·åŒ–\n- å‹å®‰å…¨æ€§å‘ä¸Šã«ä¼´ã†ãƒ†ã‚¹ãƒˆè¿½åŠ \n- Edge caseã®ç¶²ç¾…çš„ãƒ†ã‚¹ãƒˆ\n- Type-level testingè¿½åŠ \n\n### **æœŸå¾…ã•ã‚Œã‚‹æˆæœ**\n\n#### æŠ€è¡“çš„æ”¹å–„:\n- TypeScript strict modeå®Œå…¨å¯¾å¿œ\n- Chart.jsçµ±åˆã§ã®å‹å®‰å…¨æ€§å‘ä¸Š\n- é–‹ç™ºæ™‚ã®å‹ãƒã‚§ãƒƒã‚¯ç²¾åº¦å‘ä¸Š\n- Runtime ã‚¨ãƒ©ãƒ¼ãƒªã‚¹ã‚¯å‰Šæ¸›\n\n#### é–‹ç™ºä½“é¨“å‘ä¸Š:\n- IDEè£œå®Œç²¾åº¦å‘ä¸Š\n- å‹ã‚¨ãƒ©ãƒ¼ã®æ—©æœŸç™ºè¦‹\n- ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å®‰å…¨æ€§å‘ä¸Š\n\n### **å®Ÿè£…è¨ˆç”»**\n\n#### Step 1: Custom Type Definitions (1-2æ—¥)\n```typescript\n// src/components/charts/types/safe-chart.ts\nexport interface SafeChartOptions<T extends ChartType> {\n  // å‹å®‰å…¨ãªChart.js wrapperå‹å®šç¾©\n}\n\nexport interface SafeChartData<T extends ChartType> {\n  // Runtimeå®‰å…¨æ€§ä¿è¨¼ä»˜ããƒ‡ãƒ¼ã‚¿å‹\n}\n```\n\n#### Step 2: Type-Safe Wrapper Functions (2-3æ—¥)\n```typescript\n// src/components/charts/utils/safe-wrapper.ts\nexport function createSafeChart<T extends ChartType>(\n  canvas: HTMLCanvasElement,\n  config: SafeChartConfig<T>\n): SafeChart<T> {\n  // å‹å®‰å…¨ãªChart.jsåˆæœŸåŒ–\n}\n```\n\n#### Step 3: Gradual Migration (3-4æ—¥)\n- æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ®µéšçš„migration\n- Null-safetyæ”¹å–„\n- Anyå‹æ’é™¤\n\n#### Step 4: Test Enhancement (1-2æ—¥)\n- Type-level testingè¿½åŠ \n- Edge case coverageå‘ä¸Š\n\n### **å—ã‘å…¥ã‚Œæ¡ä»¶**\n\n- [ ] TypeScript strict modeå®Œå…¨æœ‰åŠ¹åŒ–\n- [ ] Charté–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã§ã®TypeScriptã‚¨ãƒ©ãƒ¼ 0ä»¶\n- [ ] æ—¢å­˜æ©Ÿèƒ½ã®å®Œå…¨å‹•ä½œä¿è¨¼\n- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¶­æŒï¼ˆ>90%ï¼‰\n- [ ] ãƒ“ãƒ«ãƒ‰æ™‚é–“å¢—åŠ  <10%\n- [ ] Bundle sizeå¢—åŠ  <5%\n\n### **ãƒªã‚¹ã‚¯è©•ä¾¡**\n\n#### æŠ€è¡“ãƒªã‚¹ã‚¯: LOW\n- æ—¢å­˜æ©Ÿèƒ½ã¯å‹•ä½œæ¸ˆã¿\n- å‹æ”¹å–„ã®ã¿ã§ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ãªã—\n\n#### æ™‚é–“ãƒªã‚¹ã‚¯: MEDIUM  \n- Chart.jså‹å®šç¾©ã®è¤‡é›‘ã•\n- æ®µéšçš„migrationå¿…è¦\n\n### **å„ªå…ˆåº¦åˆ¤æ–­**\n\nã“ã®Issueã¯**Technical Debt**ã§ã‚ã‚Šã€æ–°æ©Ÿèƒ½é–‹ç™ºã®å¾Œã«å¯¾å¿œæ¨å¥¨ã€‚ãŸã ã—ã€Chart.jsé–¢é€£ã®è¿½åŠ é–‹ç™ºå‰ã«ã¯è§£æ±ºãŒæœ›ã¾ã—ã„ã€‚\n\n**[ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å‹å®‰å…¨æ€§å‘ä¸Šã«å¯„ä¸ã™ã‚‹é‡è¦ãªæŠ€è¡“çš„æ”¹å–„]**",
  "user": {
    "login": "nyasuto",
    "id": 17446383,
    "node_id": "MDQ6VXNlcjE3NDQ2Mzgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/17446383?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nyasuto",
    "html_url": "https://github.com/nyasuto",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 8910603341,
      "node_id": "LA_kwDOPJEskc8AAAACEx0ETQ",
      "name": "priority: medium",
      "description": "Medium priority tasks",
      "color": "fb8500",
      "default": false
    },
    {
      "id": 8910603648,
      "node_id": "LA_kwDOPJEskc8AAAACEx0FgA",
      "name": "type: refactor",
      "description": "Code refactoring",
      "color": "7c3aed",
      "default": false
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [],
  "milestone": null,
  "comments": 0,
  "created_at": "2025-07-09T00:03:58Z",
  "updated_at": "2025-07-09T00:09:15Z",
  "closed_at": null,
  "author_association": "OWNER",
  "active_lock_reason": null,
  "html_url": "https://github.com/nyasuto/beaver/issues/37",
  "url": "https://api.github.com/repos/nyasuto/beaver/issues/37",
  "repository_url": "https://api.github.com/repos/nyasuto/beaver",
  "labels_url": "https://api.github.com/repos/nyasuto/beaver/issues/37/labels{/name}",
  "comments_url": "https://api.github.com/repos/nyasuto/beaver/issues/37/comments",
  "events_url": "https://api.github.com/repos/nyasuto/beaver/issues/37/events"
}