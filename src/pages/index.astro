---
import { PageLayout } from '../components/layouts';
import BannerWithData from '../components/navigation/BannerWithData.astro';
import Breadcrumb from '../components/navigation/Breadcrumb.astro';
import IssueStats from '../components/dashboard/IssueStats.astro';
import RecentActivity from '../components/dashboard/RecentActivity.astro';
import { resolveUrl } from '../lib/utils/url';

const title = 'Beaver Astro Edition';
const description =
  'AI-first knowledge management system that transforms GitHub development activities into structured, persistent knowledge bases';

// Breadcrumb items for dashboard
const breadcrumbItems = [
  { name: 'Home', href: resolveUrl('/'), icon: 'üè†' },
  { name: 'Dashboard', current: true, icon: 'üìä' },
];
---

<PageLayout
  title={title}
  description={description}
  keywords="astro, typescript, github, knowledge-management, ai-agents, analytics"
  author="Beaver Team"
  showHeader={true}
  showFooter={true}
  showSearch={false}
  maxWidth="full"
  padding="none"
>
  <!-- Enhanced Banner -->
  <BannerWithData />

  <!-- Breadcrumb Navigation -->
  <div class="bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700">
    <div class="container mx-auto px-4 py-3">
      <Breadcrumb items={breadcrumbItems} />
    </div>
  </div>

  <!-- Main Content -->
  <main class="min-h-screen bg-gray-50 dark:bg-gray-900">
    <!-- Hero Section -->
    <section class="py-12 lg:py-16">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl font-bold text-gray-900 dark:text-white sm:text-5xl lg:text-6xl">
            Welcome to Your Dashboard
          </h1>
          <p class="mt-6 text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
            Track project health and manage issues efficiently.
          </p>
        </div>
      </div>
    </section>

    <!-- Statistics Section -->
    <section class="py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <IssueStats />
      </div>
    </section>

    <!-- Main Dashboard Content -->
    <section class="py-12">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <!-- Recent Activity (Full Width) -->
          <RecentActivity />
        </div>
      </div>
    </section>
  </main>
</PageLayout>
